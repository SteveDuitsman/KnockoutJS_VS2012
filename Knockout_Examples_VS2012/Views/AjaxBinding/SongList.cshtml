@{
    ViewBag.Title = "SongList";
}
@section scripts{
    <script src="~/Scripts/knockout.mapping-latest.debug.js"></script>
    <script src="~/Scripts/AjaxBinding/AjaxMappingViewModel.js"></script>
}
<h2>SongList</h2>
<div>
    <input type="button" data-bind="click: LoadSongs" value="Load Songs" />
</div>
<div>
    <span data-bind="text: RunningSongCount()"></span>
</div>
<div>
    <table>
        <thead>
            <tr>
                <th>Title</th>
                <th>Artist</th>
                <th>Length</th>
            </tr>
        </thead>
        <tbody data-bind="foreach: Songs">
            <tr>
                <td><span data-bind="text: Title"></span></td>
                <td><span data-bind="text: Artist"></span></td>
                <td>
                    @*                    <span data-bind="text: Length.Hours"></span>h&nbsp;
                    <span data-bind="text: Length.Minutes"></span>m&nbsp;
                    <span data-bind="text: Length.Seconds"></span>s*@
                </td>
            </tr>
        </tbody>
    </table>
</div>

<script type="text/javascript">
    $(document).ready(function () {
        var loadurl = '@Url.Action("LoadSongs", "AjaxBinding")';
        var viewModel = new AjaxMappingViewModel({ LoadUrl: loadurl });
        ko.applyBindings(viewModel);
    });
</script>
